ALTER TABLE PRODUCT
	DROP
		CONSTRAINT FK_PRODUCT_CATEGORY_TO_PRODUCT
		CASCADE;

ALTER TABLE PRODUCT
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

DROP INDEX PK_PRODUCT;

/* 상품 */
DROP TABLE PRODUCT
	CASCADE CONSTRAINTS;

/* 상품 */
CREATE TABLE PRODUCT (
	PNUM NUMBER(8) NOT NULL, /* 상품번호 */
	PNAME VARCHAR2(80) NOT NULL, /* 상품명 */
	PCONTENT VARCHAR2(200) NOT NULL, /* 상품내용 */
	PRICE NUMBER(10) NOT NULL, /* 상품가격 */
	PIMAGE VARCHAR2(200), /* 상품이미지 */
	PIMAGE2 VARCHAR2(200), /* 상품이미지2 */
	PIMAGE3 VARCHAR2(200), /* 상품이미지3 */
	CG_NUM NUMBER(3) NOT NULL /* 카테고리번호 */
);

COMMENT ON TABLE PRODUCT IS '상품';

COMMENT ON COLUMN PRODUCT.PNUM IS '상품번호';

COMMENT ON COLUMN PRODUCT.PNAME IS '상품명';

COMMENT ON COLUMN PRODUCT.PCONTENT IS '상품내용';

COMMENT ON COLUMN PRODUCT.PRICE IS '상품가격';

COMMENT ON COLUMN PRODUCT.PIMAGE IS '상품이미지';

COMMENT ON COLUMN PRODUCT.PIMAGE2 IS '상품이미지2';

COMMENT ON COLUMN PRODUCT.PIMAGE3 IS '상품이미지3';

COMMENT ON COLUMN PRODUCT.CG_NUM IS '카테고리번호';

CREATE UNIQUE INDEX PK_PRODUCT
	ON PRODUCT (
		PNUM ASC
	);

ALTER TABLE PRODUCT
	ADD
		CONSTRAINT PK_PRODUCT
		PRIMARY KEY (
			PNUM
		);

ALTER TABLE PRODUCT
	ADD
		CONSTRAINT FK_PRODUCT_CATEGORY_TO_PRODUCT
		FOREIGN KEY (
			CG_NUM
		)
		REFERENCES PRODUCT_CATEGORY (
			CG_NUM
		);